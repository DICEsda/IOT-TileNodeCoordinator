[env:esp32-c3-mini-1]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
monitor_speed = 115200
upload_speed = 921600
; Explicitly set MCU and variant for proper include paths
board_build.mcu = esp32c3
board_build.variant = esp32c3

; Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_ESP32C3_DEFAULT_CPU_FREQ_160=1
    -DCONFIG_ESP32C3_DEFAULT_CPU_FREQ_MHZ=160
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DSTANDALONE_TEST
    -DENABLE_DEEP_SLEEP


; Libraries
lib_deps = 
    bblanchon/ArduinoJson @ ^6.21.3
    adafruit/Adafruit NeoPixel @ ^1.11.0
    ESP32Time
    SPI
    Wire
    Preferences

; Library paths
lib_extra_dirs = 
    ../shared

; Partition scheme for OTA
board_build.partitions = huge_app.csv

; Upload settings
upload_protocol = esptool
upload_port = auto




; Monitor settings
monitor_filters = esp32_exception_decoder

[env:esp32-c3-mini-1-ota]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
monitor_speed = 115200
upload_speed = 921600
; Explicitly set MCU and variant for proper include paths
board_build.mcu = esp32c3
board_build.variant = esp32c3

; Use default OTA-friendly partition (e.g., default or minimal SPIFFS)
board_build.partitions = default.csv

build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_ESP32C3_DEFAULT_CPU_FREQ_160=1
    -DCONFIG_ESP32C3_DEFAULT_CPU_FREQ_MHZ=160
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DSTANDALONE_TEST
    -DENABLE_DEEP_SLEEP

lib_deps =
    ${env.lib_deps}

