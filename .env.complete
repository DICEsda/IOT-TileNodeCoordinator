# =============================================================================
# IOT SmartTile System - Complete Configuration
# =============================================================================
# This file contains ALL configuration options for the IOT SmartTile system
# Copy this file to .env and fill in your specific values
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB is used to store device telemetry, settings, and historical data

# MongoDB root username (default: admin)
MONGO_ROOT_USER=admin

# MongoDB root password (CHANGE THIS IN PRODUCTION!)
MONGO_ROOT_PASSWORD=admin123

# MongoDB database name
MONGO_DB=iot_smarttile

# MongoDB connection URI
# Format: mongodb://username:password@host:port
# For Docker: use service name (mongodb)
# For local: use localhost or IP address
MONGO_URI=mongodb://admin:admin123@mongodb:27017

# =============================================================================
# MQTT BROKER CONFIGURATION
# =============================================================================
# MQTT is used for real-time communication between coordinator, backend, and frontend

# MQTT broker address
# Format: tcp://host:port or ssl://host:port
# For Docker: use service name (mosquitto)
# For local: use localhost or IP address
MQTT_BROKER=tcp://mosquitto:1883

# MQTT username for authentication
MQTT_USERNAME=user1

# MQTT password for authentication (CHANGE THIS IN PRODUCTION!)
MQTT_PASSWORD=user1

# MQTT client ID prefix (optional)
MQTT_CLIENT_ID=iot-backend

# MQTT QoS level (0, 1, or 2)
MQTT_QOS=1

# MQTT keep-alive interval in seconds
MQTT_KEEPALIVE=60

# =============================================================================
# BACKEND SERVER CONFIGURATION
# =============================================================================
# Backend HTTP server settings

# HTTP server listen address
# Format: :port or host:port
# Use :8000 to listen on all interfaces
HTTP_ADDR=:8000

# Backend log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable CORS (true/false)
CORS_ENABLED=true

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:4200,http://localhost:80

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend API and WebSocket endpoints

# Backend API URL (used by frontend to make HTTP requests)
# For Docker: use host machine IP or domain
# For local dev: use localhost
API_URL=http://localhost:8000

# WebSocket URL (used for real-time updates)
# For Docker: use host machine IP or domain
# For local dev: use localhost
WS_URL=ws://localhost:8000/ws

# =============================================================================
# SITE AND COORDINATOR CONFIGURATION
# =============================================================================
# Default identifiers for your site and coordinator

# Default site ID (used if not specified)
DEFAULT_SITE_ID=site001

# Default coordinator ID (used if not specified)
DEFAULT_COORD_ID=coord001

# Maximum number of coordinators per site
MAX_COORDINATORS_PER_SITE=1

# Maximum number of nodes per coordinator
MAX_NODES_PER_COORDINATOR=1

# =============================================================================
# ESP32 COORDINATOR CONFIGURATION
# =============================================================================
# Hardware and firmware settings for the ESP32 coordinator

# Current firmware version
ESP32_FIRMWARE_VERSION=1.0.0

# OTA firmware update URL
ESP32_OTA_URL=http://backend:8000/api/v1/ota/firmware

# WiFi SSID (network name) - FILL THIS IN!
ESP32_WIFI_SSID=Pixel

# WiFi Password - FILL THIS IN!
ESP32_WIFI_PASSWORD=12341234

# WiFi connection timeout in milliseconds
ESP32_WIFI_TIMEOUT=10000

# MQTT keep-alive interval in seconds
ESP32_MQTT_KEEPALIVE=60

# Ping interval for health checks (milliseconds)
ESP32_PING_INTERVAL=2000

# Reconnect delay after connection failure (milliseconds)
ESP32_RECONNECT_DELAY=5000

# Number of addressable LEDs on coordinator (for status indication)
COORD_LED_COUNT=16

# GPIO pin for LED strip
COORD_LED_PIN=5

# GPIO pin for touch/button
COORD_BUTTON_PIN=0

# Button hold time for pairing mode (milliseconds)
COORD_BUTTON_HOLD_TIME=4000

# Maximum number of nodes that can pair with this coordinator
COORD_MAX_NODES=1

# Ambient light sensor ADC pin
COORD_LIGHT_SENSOR_PIN=34

# Temperature sensor pin (if applicable)
COORD_TEMP_SENSOR_PIN=35

# =============================================================================
# ESP32 NODE CONFIGURATION
# =============================================================================
# Hardware settings for ESP32 tile nodes

# Number of LEDs per node (tiles with 4-6 LEDs typical)
NODE_LED_COUNT=4

# GPIO pin for LED strip on nodes
NODE_LED_PIN=5

# GPIO pin for button on nodes
NODE_BUTTON_PIN=0

# Pairing mode timeout (milliseconds)
NODE_PAIRING_TIMEOUT=30000

# Default LED brightness (0-255)
NODE_DEFAULT_BRIGHTNESS=128

# Temperature sensor enabled (true/false)
NODE_TEMP_SENSOR_ENABLED=true

# Button enabled (true/false)
NODE_BUTTON_ENABLED=true

# =============================================================================
# ESP-NOW CONFIGURATION
# =============================================================================
# ESP-NOW is used for communication between coordinator and nodes

# ESP-NOW channel (must match WiFi channel, typically 1-13)
ESPNOW_CHANNEL=1

# ESP-NOW Primary Master Key (16 characters, CHANGE THIS!)
ESPNOW_PMK=SMARTTILE_PMK_01

# ESP-NOW Local Master Key (16 characters, CHANGE THIS!)
ESPNOW_LMK=SMARTTILE_LMK_01

# ESP-NOW max peers
ESPNOW_MAX_PEERS=4

# ESP-NOW encrypt (true/false)
ESPNOW_ENCRYPT=true

# =============================================================================
# GOOGLE HOME / GOOGLE ASSISTANT INTEGRATION
# =============================================================================
# Configuration for Google Home smart home integration

# Enable Google Home integration (true/false)
GOOGLE_HOME_ENABLED=false

# Google Cloud Project ID
# Get from: https://console.cloud.google.com/
GOOGLE_HOME_PROJECT_ID=your-google-cloud-project-id

# OAuth2 Client ID
# Create at: https://console.cloud.google.com/apis/credentials
GOOGLE_HOME_CLIENT_ID=your-oauth-client-id.apps.googleusercontent.com

# OAuth2 Client Secret
# From the same credentials page
GOOGLE_HOME_CLIENT_SECRET=your-oauth-client-secret

# Google API Key
# Create at: https://console.cloud.google.com/apis/credentials
GOOGLE_HOME_API_KEY=your-google-api-key

# Device model identifier
GOOGLE_HOME_DEVICE_MODEL=smart-tile-v1

# Device type (from Google's device types)
GOOGLE_HOME_DEVICE_TYPE=action.devices.types.LIGHT

# Device manufacturer name
GOOGLE_HOME_MANUFACTURER=SmartTile

# =============================================================================
# GOOGLE OAUTH2 CONFIGURATION
# =============================================================================
# OAuth2 settings for Google account linking

# OAuth2 redirect URI (must match Google Console configuration)
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8000/oauth/google/callback

# Google OAuth2 token endpoint
GOOGLE_OAUTH_TOKEN_URL=https://oauth2.googleapis.com/token

# Google OAuth2 authorization endpoint
GOOGLE_OAUTH_AUTH_URL=https://accounts.google.com/o/oauth2/v2/auth

# OAuth2 scopes (comma-separated)
GOOGLE_OAUTH_SCOPES=https://www.googleapis.com/auth/homegraph

# =============================================================================
# GOOGLE HOME GRAPH API
# =============================================================================
# HomeGraph API for device state synchronization

# HomeGraph API base URL
GOOGLE_HOMEGRAPH_API_URL=https://homegraph.googleapis.com/v1

# Service account key file path
# Download from: https://console.cloud.google.com/iam-admin/serviceaccounts
# Place the JSON file in your config directory
GOOGLE_SERVICE_ACCOUNT_KEY=/app/config/google-service-account.json

# Agent user ID (unique identifier for your smart home)
GOOGLE_AGENT_USER_ID=smarttile-user-001

# =============================================================================
# GOOGLE HOME DEVICE TRAITS
# =============================================================================
# Supported traits (capabilities) for Google Home devices
# See: https://developers.google.com/assistant/smarthome/traits

# Comma-separated list of traits
GOOGLE_TRAITS=action.devices.traits.OnOff,action.devices.traits.Brightness,action.devices.traits.ColorSetting

# Support color temperature (true/false)
GOOGLE_SUPPORT_COLOR_TEMP=true

# Support full RGB color (true/false)
GOOGLE_SUPPORT_RGB=true

# Min color temperature in Kelvin
GOOGLE_MIN_COLOR_TEMP=2000

# Max color temperature in Kelvin
GOOGLE_MAX_COLOR_TEMP=6500

# =============================================================================
# FIREBASE CLOUD MESSAGING (FCM) CONFIGURATION
# =============================================================================
# Push notifications via Firebase (optional)

# Enable FCM push notifications (true/false)
GOOGLE_FCM_ENABLED=false

# FCM server key
# Get from: https://console.firebase.google.com/ > Project Settings > Cloud Messaging
GOOGLE_FCM_SERVER_KEY=your-fcm-server-key

# FCM sender ID
GOOGLE_FCM_SENDER_ID=your-fcm-sender-id

# =============================================================================
# ZONE CONFIGURATION
# =============================================================================
# Zones for grouping nodes/tiles

# Default zone names (comma-separated)
DEFAULT_ZONES=Living Room,Bedroom,Kitchen,Bathroom,Office,Hallway

# Allow custom zones (true/false)
ALLOW_CUSTOM_ZONES=true

# Maximum zones per site
MAX_ZONES=10

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Security and authentication settings

# JWT secret key for API authentication (CHANGE THIS!)
JWT_SECRET=your-very-secret-jwt-key-change-this-in-production

# JWT expiration time (e.g., 24h, 7d, 30d)
JWT_EXPIRATION=24h

# Enable API key authentication (true/false)
API_KEY_ENABLED=false

# API keys (comma-separated, if enabled)
API_KEYS=

# Enable rate limiting (true/false)
RATE_LIMIT_ENABLED=true

# Rate limit: requests per minute
RATE_LIMIT_RPM=60

# =============================================================================
# TELEMETRY AND LOGGING
# =============================================================================
# Data collection and logging settings

# Telemetry data retention days
TELEMETRY_RETENTION_DAYS=30

# Enable detailed debugging logs (true/false)
DEBUG_MODE=false

# Log to file (true/false)
LOG_TO_FILE=false

# Log file path
LOG_FILE_PATH=/var/log/iot-smarttile.log

# Metrics collection interval (seconds)
METRICS_INTERVAL=60

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================
# Advanced configuration options

# Enable energy saving mode (true/false)
ENERGY_SAVING_MODE=false

# Auto-off delay (seconds) - time before lights turn off after no motion
AUTO_OFF_DELAY=30

# Motion sensitivity (0-100)
MOTION_SENSITIVITY=50

# Default light intensity (0-100)
DEFAULT_LIGHT_INTENSITY=80

# Enable cloud sync (true/false)
CLOUD_SYNC_ENABLED=false

# Cloud sync endpoint URL
CLOUD_SYNC_URL=

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Settings for development and testing

# Enable mock devices (true/false) - for testing without hardware
MOCK_DEVICES_ENABLED=false

# Enable simulator (true/false) - simulates MQTT messages
SIMULATOR_ENABLED=false

# Simulator interval (milliseconds)
SIMULATOR_INTERVAL=5000

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
